snippet .collect "collect block" !w
.collect { |${1:elem}| ${2:$1$3} }$0
endsnippet

snippet "(\S+)\.map" ".map { |<element>| <block> }" !r
`!p snip.rv = match.group(1) `.map(${1:&:${2:fn}})$0
endsnippet
